---
title: How to resolve utf16 route error in Flutter web
pubDate: 2025 年 10 月 24 日 18:18:08
heroImage: https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7Znjeun5EVHkAT3nZIyoF0ianqIMESn2o1icKhr7tRmVRzRU0ibUBgXVmicUz5nw/0?from=appmsg
tags: [EN, 编程]
---


Sometimes we need set a utf16 route name for Flutter web app, for better browser experience.

![](https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7Znjeu7oZylibSpI8iaImodITmYL0Ud113rr3sYrcws9WsCrxL9UQMClPwicYgw/0?from=appmsg)

Like above photo, when we type "时间戳" which means timestamp,the brower will show route history about it. In this way, our web app will be more accessable.

But I found it weird Flutter just do not support plain utf16 route name. If so, you'll get `Unexpected null value`.

![](https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7ZnjeugFiasNH27v9DYsr2xzktGRrzAJELsZ69Ep3ZuetDib4n6PgFTMJiaSDIw/0?from=appmsg)

![](https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7ZnjeuA7RNYicSAtDpWSW5HwA5IiaNPAbPUpAxOUdPeq9SbervOiaDUMcvRn93w/0?from=appmsg)

![](https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7Znjeuaxmvoia0n6tE355AtkeaVJr8ia24LTcMzeGvdPjOkd5laRAR1Qehzfvg/0?from=appmsg)

It is definitely a route name issue, bug or feature? I don't know.

How to resolve it? Just replace it with `Uri.encodeComponent`.

![](https://md.p1gd0g.cc/mmbiz_png/OQRlA7Uf7SWCaFibJ0zG297rTWu7Znjeu6iaUNH4pNrpbfNqicRe3EtUmZW5KPfW8ZLwKIRR1KqumONpQMfgHhhkQ/0?from=appmsg)
